- name: 推送微信消息  # 6个空格
  env:              # 8个空格
    SENDKEY: ${{ secrets.SERVERCHAN_SENDKEY }}  # 10个空格
  run: |            # 8个空格
    TODAY_DATE=$(date +'%Y年%m月%d日 %H:%M')
    
    # 北京提示
    if [ "${BJ_TYPE}" = "雨" ]; then
      BJ_TIPS="今天有雨，出门记得带伞哦～"
    elif [ "${BJ_TEMP_NUM}" -gt 30 ]; then
      BJ_TIPS="今天高温，注意防暑降温～"
    elif [ "${BJ_TEMP_NUM}" -lt 10 ]; then
      BJ_TIPS="今天低温，记得多穿衣服～"
    else
      BJ_TIPS="天气舒适，记得多喝水、适当运动～"
    fi
    
    # 临沂提示
    if [ "${LY_TYPE}" = "雨" ]; then
      LY_TIPS="今天有雨，提醒家人出门带伞哦～"
    elif [ "${LY_TEMP_NUM}" -gt 30 ]; then
      LY_TIPS="今天高温，提醒家人防暑降温～"
    elif [ "${LY_TEMP_NUM}" -lt 10 ]; then
      LY_TIPS="今天低温，提醒家人多穿衣服～"
    else
      LY_TIPS="天气舒适，提醒家人多喝水～"
    fi
    
    # 拼接推送内容 (注意：引号内的换行也要保持缩进)
    DESP="【双城市天气提醒】
    今日日期：${TODAY_DATE}
    - 北京天气：
    天气类型：${BJ_TYPE} | 温度：${BJ_TEMP}℃
    风向：${BJ_WIND} | 湿度：${BJ_HUMI}%
    - 临沂天气：
    天气类型：${LY_TYPE} | 温度：${LY_TEMP}℃
    风向：${LY_WIND} | 湿度：${LY_HUMI}%
    今日待办：
    1. 处理日常工作事项
    2. 下班顺路取快递
    3. 睡前阅读30分钟
    北京贴心提示：${BJ_TIPS}
    临沂贴心提示：${LY_TIPS}
    今日热点：https://news.163.com/"
    
    # 调用Server酱推送 (这里也要保持缩进)
    curl -X POST "https://sctapi.ftqq.com/${SENDKEY}.send" \
    -d "title=双城市天气提醒_$(date +%Y%m%d)" \
    -d "desp=${DESP}" \
    --insecure
    
    # 验证结果 (这里也要保持缩进)
    if [ $? -eq 0 ]; then
      echo "✅ 推送成功！"
    else
      echo "❌ 推送失败！"
      exit 1
    fi